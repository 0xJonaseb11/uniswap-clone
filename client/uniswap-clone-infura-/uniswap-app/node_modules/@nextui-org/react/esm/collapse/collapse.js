import e,{useEffect as t,useMemo as i}from"react";import{useFocusRing as r}from"@react-aria/focus";import a from"./collapse-icon";import o from"../utils/expand";import{useCollapseContext as s}from"./collapse-context";import l from"../use-current-state";import d from"../use-warning";import{useId as n}from"@react-aria/utils";import c,{KeyCode as m}from"../use-keyboard";import{StyledCollapse as p,StyledCollapseView as u,StyledCollapseContent as f}from"./collapse.styles";import b from"../utils/clsx";import h from"../utils/with-defaults";import{jsx as v}from"react/jsx-runtime";import{jsxs as x}from"react/jsx-runtime";const w="nextui-collapse",N=({children:h,title:N,subtitle:$,expanded:g,shadow:j,className:E,divider:I,arrowIcon:V,showArrow:y,disabled:C,onChange:D,bordered:k,contentLeft:A,preventDefault:F,animated:S,borderWeight:W,index:q,...G})=>{const[L,P,z]=l(g),{values:B,divider:H,animated:J,updateValues:K}=s(),{isFocusVisible:M,focusProps:O}=r();N||d('"title" is required.',"Collapse"),t((()=>{L!==g&&P(g)}),[g]),t((()=>{if(!B.length)return;const e=!!B.find((e=>e===q));P(e)}),[B.join(",")]);const Q=n(),R=n(),T=i((()=>y?V||v(a,{}):null),[V,y]),U=void 0===H?I:H,X=i((()=>void 0===J?S:J),[J,S]),Y=e=>{if(C)return;const t=!z.current;P(t),K&&K(q,t),D&&D(e,q,t)},{bindings:Z}=c((e=>{Y(e)}),[m.Enter,m.Space],{disableGlobalEvent:!0,preventDefault:F}),_=i((()=>L?"open":"closed"),[L]);return x(p,{tabIndex:-1,shadow:j,bordered:k,animated:X,divider:U,borderWeight:W,visible:L,"data-state":_,className:b(E,w,`${w}--${_}`),...G,children:[v(u,{role:"button",tabIndex:C?-1:0,id:Q,className:`${w}-view`,"data-state":_,disabled:C,"aria-disabled":C,"aria-expanded":L,"aria-controls":R,isFocusVisible:M,onClick:Y,...O,...Z,children:x("div",{className:b(`${w}-title-container`),children:[A&&v("div",{className:`${w}-title-content-left`,children:A}),x("div",{className:`${w}-title-content`,children:[e.isValidElement(N)?N:v("h3",{className:`${w}-title`,children:N}),$&&v("div",{className:`${w}-subtitle`,children:$})]}),v("div",{className:`${w}-title-content-right`,children:T})]})}),v(o,{isExpanded:L,animated:X,children:v(f,{role:"region",tabIndex:-1,id:R,"aria-labelledby":Q,className:`${w}-content`,children:h})})]})};N.toString=()=>".nextui-collapse";export default h(N,{shadow:!1,divider:!0,bordered:!1,showArrow:!0,animated:!0,disabled:!1,preventDefault:!0,expanded:!1});