import e,{useCallback as t,useEffect as a,useMemo as i,useState as o}from"react";import r from"../utils/with-defaults";import n from"../use-warning";import s,{KeyCode as d}from"../use-keyboard";import{StyledSwitch as c,StyledSwitchContainer as l,StyledSwitchInput as m,StyledSwitchCircle as h}from"./switch.styles";import u from"../utils/clsx";import{__DEV__ as p}from"../utils/assertion";import{jsx as f}from"react/jsx-runtime";import{jsxs as b}from"react/jsx-runtime";const k="nextui-switch",x=({initialChecked:e,checked:r,disabled:x,onChange:v,squared:w,bordered:g,shadow:$,icon:D,iconOn:j,iconOff:C,animated:O,preventDefault:q,...y})=>{const[E,N]=o(e);D&&p&&(j||C)&&n('Remove props "icon" if iconOn or iconOff exists.',"Switch");const S=t((e=>{if(x)return;const t={target:{checked:!E},stopPropagation:e.stopPropagation,preventDefault:e.preventDefault,nativeEvent:e};N(!E),v&&v(t)}),[x,E,v]),{bindings:B}=s((e=>{S(e)}),[d.Enter,d.Space],{disableGlobalEvent:!0,preventDefault:q}),I=i((()=>{const e=D||j||C,t=Boolean(j),a=Boolean(C);return e?t&&E?j:a&&!E?C:e:null}),[E,D,j,C]);a((()=>{void 0!==r&&N(r)}),[r]);const P=i((()=>E?"checked":"unchecked"),[E]);return b(l,{"data-state":P,disabled:x,animated:O,...y,children:[f(m,{tabIndex:-1,type:"checkbox",className:u(`${k}-input`),"data-state":P,disabled:x,checked:E,onChange:S}),f(c,{role:"switch",tabIndex:x?-1:0,checked:E,"aria-checked":E,"aria-disabled":x,animated:O,disabled:x,squared:w,bordered:g,shadow:$,"data-state":P,className:u(k,`${k}--${P}`,{[`${k}-checked`]:E,[`${k}-disabled`]:x}),...B,children:f(h,{className:`${k}-circle`,children:I})})]})};x.toString=()=>".nextui-switch";const v=e.memo(x);export default r(v,{disabled:!1,bordered:!1,shadow:!1,squared:!1,animated:!0,preventDefault:!0,initialChecked:!1});