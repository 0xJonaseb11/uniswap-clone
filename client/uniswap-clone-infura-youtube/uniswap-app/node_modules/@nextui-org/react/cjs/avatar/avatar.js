var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=exports.Avatar=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var u=s?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(a,n,u):a[n]=e[n]}a.default=e,r&&r.set(e,a);return a}(require("react")),r=require("@react-aria/focus"),a=require("@react-aria/utils"),s=require("../utils/dom"),n=require("../utils/assertion"),u=e(require("./avatar.styles")),i=e(require("../utils/clsx")),o=require("react/jsx-runtime");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}const c=e=>(null==e?void 0:e.length)<=4?e:null==e?void 0:e.slice(0,3),f=t.default.forwardRef(((e,n)=>{const{as:l,src:f,css:p,text:d,icon:v,alt:x,className:m,...y}=e,b=(0,s.useDOMRef)(n),g=!f,[j,q]=(0,t.useState)(!1),O=(0,t.useRef)(null),{isFocusVisible:N,focusProps:P}=(0,r.useFocusRing)();(0,t.useEffect)((()=>{var e;(null==O||null==(e=O.current)?void 0:e.complete)&&q(!0)}),[]);const _=(0,t.useMemo)((()=>!j&&f?"loading":"ready"),[f,j]);return(0,o.jsxs)(u.default,{ref:b,as:l,...(0,a.mergeProps)(y,P),className:(0,i.default)({"only-text-avatar":g},m),"data-state":_,isFocusVisible:N,css:(0,a.mergeProps)("button"===l?{appearance:"none",outline:"none",border:"none",cursor:"pointer"}:{},p),children:[(0,o.jsx)("span",{className:"nextui-avatar-bg"}),!g&&(0,o.jsx)("img",{ref:O,className:(0,i.default)("nextui-avatar-img",`nextui-avatar--${_}`,{"nextui-avatar-ready":j}),src:f,alt:x,"data-state":_,onLoad:()=>q(!0)}),g&&!v&&d&&(0,o.jsx)("span",{className:"nextui-avatar-text",children:c(d)}),v&&(0,o.jsx)("span",{className:"nextui-avatar-icon",children:v})]})}));exports.Avatar=f,n.__DEV__&&(f.displayName="NextUI.Avatar"),f.toString=()=>".nextui-avatar";var p=f;exports.default=p;