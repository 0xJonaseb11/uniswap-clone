var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var l=function(e,l){if(!l&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b(l);if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}r.default=e,t&&t.set(e,r);return r}(require("react")),t=require("./table.styles"),r=require("@react-aria/utils"),o=e(require("./table-row-group")),n=e(require("./table-row")),a=e(require("./table-cell")),i=e(require("./table-checkbox-cell")),u=require("./table-context"),s=require("./utils"),d=require("../index"),c=e(require("../utils/clsx")),p=require("react/jsx-runtime");function b(e){if("function"!=typeof WeakMap)return null;var l=new WeakMap,t=new WeakMap;return(b=function(e){return e?t:l})(e)}const y=({children:e,collection:b,state:y,animated:f,color:h,hasPagination:x,hideLoading:g,...v})=>{var m,j,q,S,w,M;const{currentPage:P,rowsPerPage:N}=(0,u.useTableContext)(),C=(0,l.useMemo)((()=>(0,s.isInfinityScroll)(b)),[b.body.props]),O="loading"===(null==(m=b.body)||null==(j=m.props)?void 0:j.loadingState)||"loadingMore"===(null==(q=b.body)||null==(S=q.props)?void 0:S.loadingState),k=(0,l.useMemo)((()=>{const e=[...b.body.childNodes];return x?null==e?void 0:e.slice((P-1)*N,P*N):e}),[x,b,P,N]),T=(0,l.useMemo)((()=>{const e=k.length;return e>=N&&!C?null:(0,p.jsx)("tr",{role:"row",className:"nextui-table-hidden-row","aria-hidden":"true",children:(0,p.jsx)(t.StyledBaseTableCell,{"aria-hidden":"true",colSpan:b.columnCount,style:(0,r.mergeProps)({"--nextui--tableBodyEmptySpaceHeight":C?"var(--nextui-space-10)":`calc(${N-e} * var(--nextui-space-14))`},(null==v?void 0:v.style)||{}),css:{height:"var(--nextui--tableBodyEmptySpaceHeight)"}})})}),[b.columnCount,k,N,C]);return(0,p.jsxs)(o.default,{as:"tbody",className:(0,c.default)("nextui-table-body",v.className),isInfinityScroll:C,onScroll:e=>{if(!C)return;const l=e.target;var t,r;l.scrollHeight-(l.scrollTop+40)<=l.clientHeight&&!O&&(null==(t=b.body)||null==(r=t.props)||null==r.onLoadMore||r.onLoadMore())},css:{pb:"$10",position:"relative",...v.css,...null==(w=b.body)||null==(M=w.props)?void 0:M.css},...v,children:[e,null==k?void 0:k.map((e=>e.hasChildNodes?(0,p.jsx)(n.default,{"aria-hidden":"false",item:e,state:y,children:[...e.childNodes].map((e=>{var l;return null!=e&&null!=(l=e.props)&&l.isSelectionCell?(0,p.jsx)(i.default,{cell:e,state:y,color:h,animated:f},null==e?void 0:e.key):(0,p.jsx)(a.default,{cell:e,state:y},null==e?void 0:e.key)}))},null==e?void 0:e.key):null)),!g&&O&&(0,p.jsx)(t.StyledTableLoadingRow,{role:"row",className:"nextui-table-hidden-row","aria-hidden":"true",isAtEnd:k.length>0,isAbsolute:!C,children:(0,p.jsx)(t.StyledBaseTableCell,{"aria-hidden":"true",colSpan:b.columnCount,children:(0,p.jsx)(d.Loading,{color:h})})}),T]})};y.displayName="NextUI.TableBody",y.toString=()=>".nextui-table-body";var f=y;exports.default=f,module.exports=exports.default;