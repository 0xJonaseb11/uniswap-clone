import{useCallback as e}from"react";import o from"../use-portal";import t from"../use-warning";import{__DEV__ as r}from"../utils/assertion";const n={onError:()=>r&&t("Failed to copy.","use-clipboard")};export default(t=n)=>{const r=o("clipboard"),c=e((e=>{((e,o)=>{if(!e||!o)return;const r=window.getSelection();if(!r)return;e.style.whiteSpace="pre",e.textContent=o;const n=window.document.createRange();r.removeAllRanges(),n.selectNode(e),r.addRange(n);try{window.document.execCommand("copy")}catch(e){t.onError&&t.onError()}r.removeAllRanges(),e&&(e.textContent="")})(r,e)}),[r]);return{copy:c}};