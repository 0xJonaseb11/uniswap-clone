import t,{useMemo as o,useState as e,useRef as r}from"react";import i from"../tooltip";import n from"../utils/with-defaults";import p from"./snippet-icon";import s from"../use-clipboard";import{StyledSnippet as l,StyledSnippetPre as c,StyledSnippetCopyButton as m}from"./snippet.styles";import{__DEV__ as u}from"../utils/assertion";import{jsx as a}from"react/jsx-runtime";import{jsxs as d}from"react/jsx-runtime";const x=({bordered:t,children:n,symbol:u,showTooltip:x,text:f,tooltipCopyText:y,tooltipCopiedText:h,tooltipColor:C,copy:b,...T})=>{const[N,$]=e(!1),{copy:j}=s(),w=r(null),A=f&&Array.isArray(f),g=o((()=>"prevent"!==b),[b]),k=o((()=>A?(t=>t.reduce(((t,o)=>o?t?`${t}\n${o}`:o:t),""))(f):n?w.current?w.current.textContent:"":f),[w.current,n,f]),v=o((()=>{const t=u.trim();return t?`${t} `:""}),[u]),S=()=>{k&&g&&(j(k),"slient"!==b&&$(!0))};return d(l,{...T,children:[A?f.map(((t,o)=>a(c,{css:{"&:before":{content:v,us:"none"}},className:"nextui-snippet-pre",children:t},`${o}-${t}`))):a(c,{css:{"&:before":{content:v,us:"none"}},className:"nextui-snippet-pre",ref:w,children:n||f}),g&&"slient"!==b?a(i,{hideArrow:!0,rounded:!0,color:C,content:N?h:y,onVisibleChange:()=>{setTimeout((()=>{N&&$(!1)}),400)},children:a(m,{className:"nextui-snippet-copy-button",onClick:S,children:a(p,{})})}):"prevent"!==b&&a(m,{className:"nextui-snippet-copy-button",onClick:S,children:a(p,{})})]})};u&&(x.displayName="NextUI.Snippet"),x.toString=()=>".nextui-snippet";const f=t.memo(x);export default n(f,{symbol:"$",showTooltip:!0,copy:"default",tooltipColor:"default",tooltipCopyText:"Copy",tooltipCopiedText:"Copied"});