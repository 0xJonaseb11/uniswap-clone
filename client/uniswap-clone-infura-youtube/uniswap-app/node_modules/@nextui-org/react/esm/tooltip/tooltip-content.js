import t,{useEffect as o,useMemo as e,useRef as r,useState as i}from"react";import{createPortal as s}from"react-dom";import a from"../use-portal";import m from"../use-resize";import n from"../utils/css-transition";import l from"../use-click-anywhere";import{getRect as p,getPlacement as c,defaultTooltipPlacement as f,getIconPlacement as u}from"./placement";import d from"../utils/clsx";import{StyledTooltipContent as h,StyledTooltip as w,StyledTooltipArrow as x}from"./tooltip.styles";import $ from"../utils/with-defaults";import{jsx as v}from"react/jsx-runtime";import{jsxs as g}from"react/jsx-runtime";const N="nextui-tooltip",b=({children:t,parent:$,visible:b,offset:j,placement:y,rounded:k,animated:A,className:P,hideArrow:T,css:z,...C})=>{const E=a("tooltip"),I=r(null),[S,q]=i(f);if(!$)return null;const B=()=>{const t=c(y,p($),j);q(t)},{transform:D,top:F,left:G,right:H,bottom:J}=e((()=>u(y,5)),[y]);m(B),l((()=>B())),o((()=>{B()}),[b]);const K=e((()=>b?"open":"closed"),[b]);return E?s(v(n,{name:`${N}-wrapper`,visible:b,enterTime:20,leaveTime:20,children:v(h,{className:d(`${N}-content`,`${N}--${K}`,P),"data-state":K,ref:I,onClick:t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},animated:A,css:{left:S.left,top:`calc(${S.top} + 6px)`,transform:S.transform,[`&.${N}-wrapper-enter-active`]:{opacity:1,top:S.top},...z},...C,children:g(w,{role:"tooltip","data-state":K,hideArrow:T,className:d(N,{[`${N}--with-arrow`]:!T}),children:[v(x,{className:`${N}-arrow`,css:{left:G,top:F,right:H,bottom:J,transform:D}}),t]})})}),E):null};b.toString=()=>".nextui-tooltip-content";export default $(b,{placement:"top",offset:12,className:""});