import e,{useEffect as l,useState as t}from"react";import r from"./with-defaults";import i from"./clsx";export default r((({children:r,childrenRef:n,className:a,visible:m,enterTime:s,leaveTime:c,clearTime:o,name:u,onExited:T,onEntered:d,...f})=>{const[p,v]=t(""),[N,$]=t(m);return l((()=>{const e=m?"enter":"leave",l=m?s:c;m&&!N&&$(!0),v(`${u}-${e}`);const t=setTimeout((()=>{v(`${u}-${e} ${u}-${e}-active`),"leave"===e?null==T||T():null==d||d(),clearTimeout(t)}),l),r=setTimeout((()=>{m||(v(""),$(!1)),clearTimeout(r)}),l+o);return()=>{clearTimeout(t),clearTimeout(r)}}),[m,N]),l((()=>{if(null==n||!n.current)return;const e=p.split(" "),l=n.current.className.split(" ").filter((e=>!e.includes(u)));n.current.className=i(l,e)}),[n,p]),e.isValidElement(r)&&N?e.cloneElement(r,{...f,className:i(r.props.className,a,null!=n&&n.current?"":p)}):null}),{visible:!1,enterTime:60,leaveTime:60,clearTime:60,className:"",name:"transition"});