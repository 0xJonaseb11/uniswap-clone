import e from"./common";import t from"./light-theme";import l from"../utils/clsx";export const getTokenValue=(t,l)=>{if(!document||!t)return"";let o=getComputedStyle(document.documentElement);const r=`--${e.prefix}-${t}-${l}`,n=o.getPropertyValue(r);return n&&n.includes("var")&&getTokenValue(t,n),n};export const getDocumentCSSTokens=()=>{const l=[...Object.keys(e.theme.colors),...Object.keys(t.colors)],o=Object.keys(t.shadows);return{colors:l.reduce(((t,l)=>{const o=getTokenValue("colors",l);return o&&(t[l]={prefix:e.prefix,scale:"colors",token:l,value:o}),t}),{}),shadows:o.reduce(((t,l)=>{const o=getTokenValue("shadows",l);return o&&(t[l]={prefix:e.prefix,scale:"shadows",token:l,value:o}),t}),{})}};export const getDocumentTheme=e=>{var t;const l=(null==e||null==(t=e.getAttribute("style"))?void 0:t.split(";").map((e=>e.trim())).filter((e=>e.includes("color-scheme"))))||[],o=l.length>0?l[0].replace("color-scheme: ","").replace(";",""):"";return(null==e?void 0:e.getAttribute("data-theme"))||o};export const getThemeName=e=>"string"==typeof e&&null!=e&&e.includes("-theme")?null==e?void 0:e.replace("-theme",""):e;export const changeTheme=e=>{var t,o;if(!document)return;const r=document.documentElement,n=(null==r||null==(t=r.getAttribute("class"))?void 0:t.split(" ").filter((e=>!e.includes("theme")&&!e.includes("light")&&!e.includes("dark"))))||[],s=(null==r||null==(o=r.getAttribute("style"))?void 0:o.split(";").filter((e=>!e.includes("color-scheme")&&e.length)).map((e=>`${e};`)))||[];null==r||r.setAttribute("class",l(n,`${getThemeName(e)}-theme`)),null==r||r.setAttribute("style",l(s,`color-scheme: ${e};`))};